<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>fiesta hawaiana ‚Äì mis 18 a√±os ‚Äì leandro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=pacifico&family=inter:wght400;600;800&display=swap" rel="stylesheet">
  <style>
    /* MODIFICACI√ìN: Fondo degradado tropical a pantalla completa */
    html,body{
      height:100%;
      margin:0;
      font-family:'inter',sans-serif;
      background: linear-gradient(135deg, #fec8a0 0%, #faaac2 30%, #f89088 70%, #ff8ca0 100%);
      background-attachment: fixed;
    }

    .full-height{min-height:100vh}
    .center-screen{display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:24px;color:white}
    .welcome-title{font-family:'pacifico',cursive;font-size:clamp(28px,6vw,56px);text-shadow:0 6px 20px rgba(0,0,0,0.4)}
    .welcome-sub{font-size:clamp(16px,2.5vw,22px);margin-top:12px;font-weight:600}
    .enter-btn{margin-top:22px;background:#ffcb6b;color:#1f2937;padding:12px 20px;border-radius:12px;font-weight:800;border:none;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.25)}
    .invitation{display:none;padding:20px;box-sizing:border-box}

    .card{
      width:100%;
      max-width:980px;
      margin:24px auto;
      background: transparent;
      border-radius:20px;
      padding:20px;
      box-shadow: none;
      border: none;
    }
    
    /* NUEVO: Contenedor del t√≠tulo con efecto frosted glass */
    .title-background {
      background: rgba(255, 255, 255, 0.2); /* Fondo semi-transparente */
      backdrop-filter: blur(5px); /* Efecto de desenfoque */
      -webkit-backdrop-filter: blur(5px); /* Para compatibilidad con Safari */
      border-radius: 15px;
      padding: 10px 20px;
      margin-bottom: 15px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: inline-flex; /* Para que el fondo se ajuste al contenido */
      align-items: center;
      justify-content: center;
    }

    .main-title-container {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .main-title-emoji {
      font-size: clamp(28px, 6vw, 45px);
      flex-shrink: 0;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2); 
    }
    .main-title-text {
      font-family:'pacifico',cursive;
      font-size:clamp(28px,6vw,50px);
      background: linear-gradient(to right, #FFD700, #FFaa00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 18px rgba(255,200,0,0.3);
      outline:none;
      width: 100%;
    }

    /* MODIFICACI√ìN: Marcos de fotos hawaianos */
    .photo-slot{
      background:#eee;
      border-radius:14px;
      overflow:hidden;
      position:relative;
      cursor:pointer;
      /* Borde doble: exterior m√°s oscuro, interior m√°s claro */
      border: 4px solid #8B4513; /* Borde exterior (color madera/bamb√∫ oscuro) */
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.6), /* Borde interior claro */
                  0 4px 8px rgba(0,0,0,0.2); /* Sombra exterior para profundidad */
      transition: all 0.2s ease-in-out;
    }
    .photo-slot:hover {
        transform: translateY(-3px);
        box-shadow: inset 0 0 0 2px rgba(255,255,255,0.8),
                    0 8px 16px rgba(0,0,0,0.3);
    }

    .photo-slot img{width:100%;height:100%;object-fit:cover;display:block;aspect-ratio:1/1}
    .photo-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.95);background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,0.25));opacity:0;transition:opacity .18s}
    .photo-slot:hover .photo-overlay{opacity:1}

    .input{
      width:100%;
      padding:.6rem .8rem;
      border-radius:10px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      background: rgba(255, 255, 255, 0.2);
      font-weight:600;
      color: white;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }
    .input::placeholder { color: rgba(255,255,255,0.7); }
    .input:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.7);
      background: rgba(255, 255, 255, 0.3);
    }

    .btn{background:#2563eb;color:white;padding:.6rem 1rem;border-radius:10px;font-weight:700;display:inline-flex;gap:.6rem;align-items:center;cursor:pointer;text-decoration:none; box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
    .btn.secondary{background:#f59e0b;color:#07203a}
    
    .small-note{font-size:13px;color:#f0f0f0; text-shadow: 0 1px 3px rgba(0,0,0,0.4);}
    .text-body {
      color: white;
      font-weight: 700;
      font-size: 18px;
      text-shadow: 0 1px 3px rgba(0,0,0,0.4);
    }
    .text-preview {
      margin-top:12px;
      color:white;
      font-weight:700;
      text-shadow: 0 1px 3px rgba(0,0,0,0.4);
    }
    
    .sunset-bg {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 20px;
      margin-top: 12px;
      text-align: center;
      border-top: 1px solid rgba(255,255,255,0.3);
      box-shadow: inset 0 8px 20px rgba(0,0,0,0.1);
    }
    .sunset-bg .text-1 {
      font-size:16px;
      font-weight:700;
      color: #fff;
      text-shadow: 0 1px 3px rgba(0,0,0,0.4);
    }
    .sunset-bg .text-2 {
      font-size:14px;
      color: #f0f0f0;
      text-shadow: 0 1px 3px rgba(0,0,0,0.4);
    }

    @media (max-width:640px){.card{padding:16px}}
  </style>
</head>
<body class="full-height">

  <audio id="musicPlayer" loop>
    <source src="https://archive.org/download/danza-kuduro/Danza%20Kuduro.mp3" type="audio/mpeg">
    Tu navegador no soporta audio.
  </audio>

  <div id="welcomeScreen" class="center-screen full-height">
    <h1 class="welcome-title">üå∫ ¬°Aloha! üå¥</h1>
    <p class="welcome-sub">Bienvenido a mi fiesta hawaiana ‚Äì mis 18 a√±os ‚Äì Leandro üéâ</p>
    <div style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:18px">
      <button id="enterBtn" class="enter-btn">Entrar a la invitaci√≥n üå∫</button>
    </div>
  </div>

  <div id="invitation" class="invitation">
    <div class="card" role="main">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
        <div class="title-background"> 
          <div class="main-title-container">
            <span class="main-title-emoji">üéâ</span>
            <div id="eventTitle" contenteditable="true" class="main-title-text">Fiesta Hawaiana ‚Äì Mis 18 a√±os ‚Äì Leandro</div>
          </div>
        </div>
        
        <div style="display:flex;gap:8px;align-items:center">
          <button id="playPauseBtn" class="btn secondary" title="Pausar / Reanudar m√∫sica">‚èØÔ∏è M√∫sica</button>
        </div>
      </div>
      <div class="small-note" style="margin-top:6px; text-align: center;">Hac√© click en el t√≠tulo, fotos o campos para editar.</div>


      <div class="photo-grid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-top:18px">
        <label class="photo-slot" tabindex="0">
          <input type="file" accept="image/*" class="image-input" style="display:none" />
          <img id="photo1" src="https://placehold.co/800x800/faeab0/4f2500?text=Foto+1" alt="Foto 1"/>
          <div class="photo-overlay">Hac√© click para reemplazar foto 1</div>
        </label>
        <label class="photo-slot" tabindex="0">
          <input type="file" accept="image/*" class="image-input" style="display:none" />
          <img id="photo2" src="https://placehold.co/800x800/ffc9a0/573a00?text=Foto+2" alt="Foto 2"/>
          <div class="photo-overlay">Hac√© click para reemplazar foto 2</div>
        </label>
        <label class="photo-slot" tabindex="0">
          <input type="file" accept="image/*" class="image-input" style="display:none" />
          <img id="photo3" src="https://placehold.co/800x800/fbb_f_70/5a3000?text=Foto+3" alt="Foto 3"/>
          <div class="photo-overlay">Hac√© click para reemplazar foto 3</div>
        </label>
        <label class="photo-slot" tabindex="0">
          <input type="file" accept="image/*" class="image-input" style="display:none" />
          <img id="photo4" src="https://placehold.co/800x800/f_8_d_6_a_0/4_d_2_7_0_0?text=Foto+4" alt="Foto 4"/>
          <div class="photo-overlay">Hac√© click para reemplazar foto 4</div>
        </label>
      </div>

      <div style="text-align:center;margin-top:20px">
        <div class="text-body">Est√°s invitado a celebrar</div>

        <div style="display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap;margin-top:14px">
          <input id="dayInput" class="input" placeholder="D√≠a (ej: S√°bado)" value="S√°bado" style="min-width:140px" contenteditable="true"/>
          <input id="dateInput" class="input" placeholder="Fecha (ej: 14/02/2026)" value="14/02/2026" style="min-width:160px" contenteditable="true"/>
          <input id="timeInput" class="input" placeholder="Hora (ej: 22:00)" value="22:00" style="min-width:120px" contenteditable="true"/>
        </div>

        <div style="margin-top:12px;max-width:720px;margin-left:auto;margin-right:auto">
          <input id="placeInput" class="input" placeholder="Ubicaci√≥n" value="Av. Ejemplo 123, Ciudad" contenteditable="true"/>
          <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
            <button id="openMaps" class="btn">üìç Abrir en Google Maps</button>
            <button id="copyMaps" class="btn secondary">üîó Copiar enlace</button>
          </div>
        </div>

        <div id="previewWhen" class="text-preview"></div>
      </div>

      <div style="display:flex;gap:12px;align-items:center;justify-content:center;margin-top:18px">
        <a id="whatsappBtn" class="btn" target="_blank" rel="noopener noreferrer">üì≤ Confirmar por WhatsApp</a>
      </div>

      <div class="sunset-bg">
        <div class="text-1">¬°C√≥digo de vestimenta: playero tropical!</div>
        <div class="text-2">Tra√© buena onda y ganas de bailar. üå∫</div>
      </div>

      <hr style="margin:18px 0; border-color: rgba(255,255,255,0.2);"/>

      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
        <div class="small-note">Tip: Hac√© click sobre cualquier foto, t√≠tulo o campo para editar.</div>
        <div style="display:flex;gap:8px">
          </div>
      </div>
    </div>
  </div>

  <script>
    // helpers
    const music = document.getElementById('musicPlayer');
    function tryPlayMusic(){ 
      music.play().catch((e)=>{
        console.log("No se pudo reproducir la m√∫sica autom√°ticamente:", e);
      }); 
    }

    // L√≥gica de entrada: ahora el bot√≥n √∫nico inicia la m√∫sica
    const welcome = document.getElementById('welcomeScreen');
    const invitation = document.getElementById('invitation');
    const enterBtn = document.getElementById('enterBtn');

    function openInvitation(){
      welcome.style.display = 'none';
      invitation.style.display = 'block';
      document.body.style.overflow = 'auto';
      tryPlayMusic(); // Intenta reproducir m√∫sica al entrar
    }
    enterBtn.addEventListener('click', openInvitation);

    // Image replacement
    document.querySelectorAll('.photo-slot').forEach((slot, idx)=>{
      const input = slot.querySelector('input[type=file]');
      const img = slot.querySelector('img');
      slot.addEventListener('click', ()=> input.click());
      slot.addEventListener('keydown',(e)=>{ if(e.key==='Enter'||e.key===' ') input.click(); });
      input.addEventListener('change', (ev)=>{
        const file = ev.target.files[0];
        if(!file) return;
        const reader = new FileReader();
        reader.onload = (evt)=> img.src = evt.target.result;
        reader.readAsDataURL(file);
      });
    });

    // Inputs and links
    const dayInput = document.getElementById('dayInput');
    const dateInput = document.getElementById('dateInput');
    const timeInput = document.getElementById('timeInput');
    const placeInput = document.getElementById('placeInput');
    const previewWhen = document.getElementById('previewWhen');
    const whatsappBtn = document.getElementById('whatsappBtn');
    const openMaps = document.getElementById('openMaps');
    const copyMaps = document.getElementById('copyMaps');

    function updatePreviewAndLinks(){
      const d = dayInput.value.trim();
      const date = dateInput.value.trim();
      const t = timeInput.value.trim();
      const place = placeInput.value.trim();
      previewWhen.textContent = `${d ? d + ' ‚Ä¢ ' : ''}${date ? date + ' ‚Ä¢ ' : ''}${t ? t : ''}${place ? ' ‚Ä¢ ' + place : ''}`;
      
      const title = (document.getElementById('eventTitle').innerText || 'Invitaci√≥n');
      let msg = `¬°Hola! Confirmo mi asistencia a ${title}. D√≠a: ${d || '-'}, Fecha: ${date || '-'}, Hora: ${t || '-'}, Lugar: ${place || '-'}. Mi nombre es: `;
      const waHref = 'https://wa.me/?text=' + encodeURIComponent(msg);
      whatsappBtn.href = waHref;
      
      const mapsQuery = encodeURIComponent(place || 'Google Maps');
      const mapsUrl = `http://googleusercontent.com/maps.google.com/3{mapsQuery}`; /* Corregido a URL est√°ndar */

      openMaps.onclick = ()=>{
        if(!place){ alert('Escrib√≠ la ubicaci√≥n primero.'); return; }
        window.open(mapsUrl, '_blank');
      };
      copyMaps.onclick = async ()=>{
        if(!place){ alert('Escrib√≠ la ubicaci√≥n primero.'); return; }
        try{ 
          await navigator.clipboard.writeText(mapsUrl); 
          copyMaps.textContent = '‚úÖ Copiado'; 
          setTimeout(()=> copyMaps.textContent = 'üîó Copiar enlace',1500); 
        }
        catch(e){ 
          prompt('Copi√° este enlace:', mapsUrl); 
        }
      };
    }

    [dayInput,dateInput,timeInput,placeInput].forEach(i=>i.addEventListener('input', updatePreviewAndLinks));
    document.getElementById('eventTitle').addEventListener('input', updatePreviewAndLinks);
    updatePreviewAndLinks();

    // play/pause music
    const playPauseBtn = document.getElementById('playPauseBtn');
    playPauseBtn.addEventListener('click', ()=>{
      if(music.paused){ music.play().catch(()=>{}); playPauseBtn.textContent='‚èØÔ∏è M√∫sica'; }
      else{ music.pause(); playPauseBtn.textContent='‚ñ∂Ô∏è Reproducir'; }
    });
    
    // prevent page from jumping when opening invitation
    document.addEventListener('DOMContentLoaded', ()=>{ document.body.style.overflow='hidden'; });

    // Fallback de m√∫sica (aunque el bot√≥n ya deber√≠a hacerlo)
    document.addEventListener('click', ()=>{ tryPlayMusic(); }, {once:true});
  </script>
</body>
</html>
